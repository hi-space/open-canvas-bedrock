# Open Canvas Web

Open Canvas는 AI 에이전트와 협업하여 문서와 코드를 작성하는 오픈소스 웹 애플리케이션입니다. OpenAI의 "Canvas"에서 영감을 받았으며, 오픈소스로 제공되며 메모리 시스템과 기존 문서에서 시작할 수 있는 기능을 제공합니다.

## 주요 기능

### 1. 멀티 어시스턴트 관리

- **커스텀 어시스턴트 생성**: 이름, 아이콘, 색상을 설정하여 여러 어시스턴트를 생성하고 관리할 수 있습니다
- **컨텍스트 문서**: 각 어시스턴트에 텍스트, PDF, 오디오, 비디오 파일 또는 URL을 첨부하여 모든 대화에 컨텍스트로 제공할 수 있습니다
  - 최대 20개 파일 지원
  - 문서: 10MB, 오디오: 25MB, 비디오: 1GB 제한
- **어시스턴트 전환**: 대화 중 언제든지 다른 어시스턴트로 전환 가능

### 2. 아티팩트 관리

- **코드 및 마크다운 지원**: 코드와 마크다운 텍스트 모두 생성 및 편집 가능
- **다중 프로그래밍 언어**: Python, JavaScript, Java, C++, Rust, SQL, HTML, PHP, C#, Clojure 등 다양한 언어 지원
- **버전 관리**: 모든 아티팩트는 버전 히스토리를 가지며 이전 버전으로 되돌아갈 수 있습니다
- **실시간 마크다운 렌더링**: 마크다운을 편집하면서 동시에 렌더링된 결과를 확인할 수 있습니다
- **텍스트 선택 편집**: 아티팩트에서 텍스트를 선택하여 특정 부분만 수정할 수 있습니다

### 3. 퀵 액션 (Quick Actions)

#### 텍스트 아티팩트용 퀵 액션
- **번역**: 다양한 언어로 번역
- **읽기 수준 조정**: 텍스트의 읽기 난이도 조정
- **길이 조정**: 텍스트를 더 짧게 또는 길게 만들기
- **이모지 추가**: 텍스트에 이모지 자동 추가

#### 코드 아티팩트용 퀵 액션
- **주석 추가**: 코드에 설명 주석 자동 추가
- **로그 추가**: 디버깅을 위한 로그 문 추가
- **언어 포팅**: 다른 프로그래밍 언어로 코드 변환
- **버그 수정**: 코드의 버그 자동 감지 및 수정

#### 커스텀 퀵 액션
- **사용자 정의 액션 생성**: 자신만의 프롬프트를 작성하여 퀵 액션으로 저장
- **세션 간 지속**: 생성한 커스텀 퀵 액션은 모든 세션에서 사용 가능
- **컨텍스트 포함 옵션**: Reflection(Reflections), 최근 대화 기록, 프리픽스 포함 여부 설정 가능

### 4. 메모리 및 Reflection 시스템

- **자동 Reflection 생성**: 대화 내용을 분석하여 사용자의 스타일 규칙과 선호도를 자동으로 추출
- **스타일 규칙 저장**: 작성 스타일, 톤, 포맷 선호도 등을 학습하여 일관된 응답 제공
- **사용자 메모리**: 사용자에 대한 사실과 정보를 저장하여 개인화된 경험 제공
- **Reflection 확인**: Reflection 다이얼로그에서 생성된 스타일 규칙과 컨텐츠 Reflection을 확인하고 삭제할 수 있습니다

### 5. 웹 검색 통합

- **자동 웹 검색**: 대화 내용을 분석하여 필요한 경우 자동으로 웹 검색 수행
- **검색 결과 표시**: 검색 결과를 사이드 패널에 카드 형태로 표시
- **실시간 정보**: 최신 정보를 포함한 콘텐츠 생성 지원

### 6. 대화 관리

- **스레드 히스토리**: 모든 대화를 스레드로 관리하며 날짜별로 그룹화 (오늘, 어제, 최근 7일, 그 이전)
- **스레드 제목 자동 생성**: 대화 내용을 기반으로 스레드 제목 자동 생성
- **스레드 검색 및 삭제**: 이전 대화를 검색하고 삭제할 수 있습니다

### 7. 모델 선택 및 설정

- **다양한 AWS Bedrock 모델 지원**:
  - Anthropic: Claude Haiku 4.5, Sonnet 4, Sonnet 4.5, Opus 4.1
  - Amazon: Nova Premier, Pro, Lite, Micro
  - Meta: Llama 3.3 70B Instruct
  - DeepSeek: R1, V3
- **모델 설정**: 온도(Temperature)와 최대 토큰 수(Max Tokens)를 조정할 수 있습니다
- **대화별 모델 선택**: 각 대화에서 사용할 모델을 선택할 수 있습니다

### 8. 파일 첨부 및 미디어 지원

- **파일 첨부**: 대화에 텍스트, PDF, 이미지, 오디오, 비디오 파일 첨부 가능
- **오디오 전사**: Whisper를 통한 오디오 파일 자동 전사
- **웹 스크래핑**: Firecrawl을 통한 웹페이지 스크래핑 및 콘텐츠 추출

### 9. 사용자 인터페이스

- **리사이저블 패널**: 채팅과 캔버스 패널을 드래그하여 크기 조정 가능
- **채팅 패널 접기/펼치기**: 채팅 패널을 접어서 캔버스에 더 많은 공간 확보
- **반응형 디자인**: 다양한 화면 크기에 최적화된 레이아웃

### 10. 피드백 및 공유

- **실행 피드백**: 각 AI 응답에 대해 피드백 제공 가능
- **실행 공유**: LangSmith를 통한 실행 추적 및 공유

## 기술 스택

- **프레임워크**: Next.js 14
- **UI 라이브러리**: React, Radix UI, Tailwind CSS
- **에이전트 UI**: @assistant-ui/react
- **에디터**: CodeMirror (코드), BlockNote (마크다운)
- **상태 관리**: Zustand, React Context

## 시작하기

### 필수 요구사항

- Node.js 18+
- Yarn 패키지 매니저

### 개발 서버 실행

```bash
# 개발 서버 시작
yarn dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000)을 열어 애플리케이션을 확인하세요.

## 프로젝트 구조

```
apps/web/
├── src/
│   ├── app/              # Next.js 앱 라우터
│   │   ├── api/          # API 라우트
│   │   └── auth/         # 인증 페이지
│   ├── components/       # React 컴포넌트
│   │   ├── artifacts/    # 아티팩트 렌더링 및 편집
│   │   ├── assistant-select/  # 어시스턴트 선택 및 관리
│   │   ├── chat-interface/    # 채팅 인터페이스
│   │   ├── canvas/       # 메인 캔버스
│   │   └── ui/           # 재사용 가능한 UI 컴포넌트
│   ├── contexts/         # React Context
│   ├── hooks/            # 커스텀 훅
│   ├── lib/              # 유틸리티 함수
│   └── shared/           # 공유 타입 및 상수
├── public/               # 정적 파일
└── package.json
```

## 주요 컴포넌트

### Canvas
메인 캔버스 컴포넌트로 채팅 패널과 아티팩트 렌더러를 관리합니다.

### ArtifactRenderer
코드와 마크다운 아티팩트를 렌더링하고 편집 기능을 제공합니다.

### AssistantSelect
어시스턴트를 선택하고 생성/편집/삭제할 수 있는 컴포넌트입니다.

### ChatInterface
메시지 표시, 입력, 스레드 관리 등의 채팅 기능을 제공합니다.
